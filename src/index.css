@tailwind base;
@tailwind components;
@tailwind utilities;

/* Animation de cloche qui oscille */
@keyframes bell-swing {
  0%, 100% {
    transform: rotate(0deg);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: rotate(-15deg);
  }
  20%, 40%, 60%, 80% {
    transform: rotate(15deg);
  }
}

.animate-bell-swing {
  animation: bell-swing 0.5s ease-in-out;
  transform-origin: top center;
}

/* Elegant scrollbar for desktop - same as menu */
.scrollbar-hide {
  scrollbar-width: thin;  /* Firefox */
  scrollbar-color: rgba(107, 114, 128, 0.4) transparent;  /* Firefox light mode */
}

.scrollbar-hide::-webkit-scrollbar {
  width: 6px;  /* Safari and Chrome - same as menu */
}

.scrollbar-hide::-webkit-scrollbar-track {
  background: transparent;  /* Track background - same as menu */
}

.scrollbar-hide::-webkit-scrollbar-thumb {
  background: rgba(107, 114, 128, 0.8);  /* Light mode thumb - more visible for testing */
  border-radius: 3px;
  transition: background 0.2s ease;
}

.scrollbar-hide::-webkit-scrollbar-thumb:hover {
  background: rgba(107, 114, 128, 0.6);  /* Light mode hover - same as menu */
}

/* Dark mode scrollbar - same as menu */
.dark .scrollbar-hide {
  scrollbar-color: rgba(75, 85, 99, 0.3) transparent;  /* Firefox dark mode */
}

.dark .scrollbar-hide::-webkit-scrollbar-thumb {
  background: rgba(75, 85, 99, 0.8);  /* Dark mode thumb - more visible for testing */
}

.dark .scrollbar-hide::-webkit-scrollbar-thumb:hover {
  background: rgba(75, 85, 99, 0.5);  /* Dark mode hover - same as menu */
}

/* Reset body margins for modal overlays */
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow-x: hidden;
}

/* Subtle scrollbar with theme colors */
* {
  scrollbar-width: thin;
  scrollbar-color: #9ca3af #f9fafb;
}

*::-webkit-scrollbar {
  width: 8px;
}

*::-webkit-scrollbar-track {
  background: #f9fafb;
  border-radius: 10px;
  margin: 2px;
}

*::-webkit-scrollbar-thumb {
  background: #9ca3af;
  border-radius: 10px;
  border: 1px solid #ffffff;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  transition: all 0.2s ease;
}

*::-webkit-scrollbar-thumb:hover {
  background: #6b7280;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  transform: scaleY(1.05);
}

/* Dark mode - darker gray */
.dark * {
  scrollbar-color: #4b5563 #1f2937;
}

.dark *::-webkit-scrollbar-track {
  background: #1f2937;
  border-radius: 10px;
  margin: 2px;
}

.dark *::-webkit-scrollbar-thumb {
  background: #4b5563;
  border: 1px solid #111827;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.dark *::-webkit-scrollbar-thumb:hover {
  background: #6b7280;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
}

/* Ensure modal overlays cover the entire viewport */
.modal-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Custom animations for the auth page */
@keyframes blob {
  0% {
    transform: translate(0px, 0px) scale(1);
  }
  33% {
    transform: translate(30px, -50px) scale(1.1);
  }
  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

.animate-blob {
  animation: blob 7s infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

/* Dark mode styles for date inputs */
.dark input[type="date"] {
  color-scheme: dark;
  color: white !important;
}

/* Replace calendar icon with white SVG */
.dark input[type="date"]::-webkit-calendar-picker-indicator {
  background: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3e%3cpath d='M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z'/%3e%3c/svg%3e") no-repeat center !important;
  background-size: 20px 20px !important;
  width: 20px !important;
  height: 20px !important;
  filter: none !important;
  opacity: 1 !important;
  cursor: pointer !important;
}

.dark input[type="date"]::-webkit-calendar-picker-indicator:hover {
  background: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3e%3cpath d='M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z'/%3e%3c/svg%3e") no-repeat center !important;
  background-size: 20px 20px !important;
  filter: none !important;
  opacity: 1 !important;
}

.dark input[type="date"]::-webkit-datetime-edit-text {
  color: white;
}

.dark input[type="date"]::-webkit-datetime-edit-month-field,
.dark input[type="date"]::-webkit-datetime-edit-day-field,
.dark input[type="date"]::-webkit-datetime-edit-year-field {
  color: white;
}

/* Force round checkboxes */
input[type="checkbox"] {
  border-radius: 50% !important;
  appearance: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  width: 20px !important;
  height: 20px !important;
  border: 2px solid #d1d5db !important;
  background-color: white !important;
  cursor: pointer !important;
  position: relative !important;
}

input[type="checkbox"]:checked {
  background-color: #3b82f6 !important;
  border-color: #3b82f6 !important;
}

input[type="checkbox"]:checked::after {
  content: '✓' !important;
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  color: white !important;
  font-size: 12px !important;
  font-weight: bold !important;
}

/* Dark mode checkboxes */
.dark input[type="checkbox"] {
  border-color: #6b7280 !important;
  background-color: #374151 !important;
}

.dark input[type="checkbox"]:checked {
  background-color: #3b82f6 !important;
  border-color: #3b82f6 !important;
}

/* Hide scrollbars but keep functionality */
.scrollbar-none {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
}

.scrollbar-none::-webkit-scrollbar {
  display: none; /* WebKit browsers (Chrome, Safari, Edge) */
}

/* Scrollbar visible pour la liste des messages */
.scrollbar-visible {
  scrollbar-width: thin; /* Firefox */
  scrollbar-color: rgba(156, 163, 175, 0.5) transparent; /* Firefox */
}

.scrollbar-visible::-webkit-scrollbar {
  width: 8px; /* Chrome, Safari, Opera */
}

.scrollbar-visible::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-visible::-webkit-scrollbar-thumb {
  background: rgba(156, 163, 175, 0.5);
  border-radius: 4px;
  transition: background 0.2s ease;
}

.scrollbar-visible::-webkit-scrollbar-thumb:hover {
  background: rgba(156, 163, 175, 0.7);
}

/* Dark mode scrollbar */
.dark .scrollbar-visible {
  scrollbar-color: rgba(75, 85, 99, 0.5) transparent; /* Firefox dark mode */
}

.dark .scrollbar-visible::-webkit-scrollbar-thumb {
  background: rgba(75, 85, 99, 0.5);
}

.dark .scrollbar-visible::-webkit-scrollbar-thumb:hover {
  background: rgba(75, 85, 99, 0.7);
}

/* Prevent scroll on email inbox page */
body:has(.email-inbox-container) {
  overflow: hidden;
}

/* Ensure email inbox container doesn't overflow */
.email-inbox-container {
  box-sizing: border-box;
  max-width: 100%;
}

/* Styles pour les listes dans contentEditable - Force l'affichage des puces/numéros */
[contenteditable] ul,
[contenteditable] ol {
  display: block !important;
  list-style-position: outside !important;
  padding-left: 30px !important;
  margin: 8px 0 !important;
  -webkit-padding-start: 30px !important;
  -moz-padding-start: 30px !important;
}

[contenteditable] ul {
  list-style-type: disc !important;
  -webkit-list-style-type: disc !important;
  -moz-list-style-type: disc !important;
}

[contenteditable] ol {
  list-style-type: decimal !important;
  -webkit-list-style-type: decimal !important;
  -moz-list-style-type: decimal !important;
}

[contenteditable] li {
  display: list-item !important;
  margin: 4px 0;
  padding-left: 4px;
}